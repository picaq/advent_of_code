arr = "fdgacbe cefdb cefbgd gcbe fcgedb cgb dgebacf gc cg cg fdcagb cbg efabcd cedba gadfec cb gecf egdcabf bgf bfgea gebdcfa ecba ca fadegcb cefg dcbef fcge gbcadfe ed bcgafe cdgba cbgef gbdfcae bgc cg cgb fgae cfgab fg bagce".split(" ")

arr2 = "bgacf afdebc fceda cabfg gdbefac fgabcd dcbefag aedgfb ceafbg acb egbad gfaebc gfacdeb gabdec begcd adbce faecg cb cb fecbga cfegb bga edfga fgbec facgb fbdcge gf gfabc egbcdfa afdebcg aecfbd acefb fgdb gefba gcdafe bg cdbgea fged cfabed bgd gcbadf egafb ebafg ab bcefg eagdf ab bacefd ebd cdfe bgeaf cdbfea fdage edbgac cgaebd bed agdcf bgfda afdgc afdgb acdbgf cbegad cgdaf eag aedfb gb eafdb dbafe efacgd dbefag fadebg bgfad afbedc gcdeb fbgadc dbf afcg cedba aecdb cgeba baecdg fcbag dfeagb gcde egcaf cfgae efcgd de bfa bgadfc adcef ab efgcd cgdfe cefdg cdf fbgec bgdf efgcbda cbedg bfcaeg gfedcab acbfge fe bcadeg bf facbdeg gdabef gdcab agcbd dafbecg gfa bdaef egfdcab eb be degbcf baegdf gaedbf dfegbc gfadbec fgcda edgbac fbagd bdaeg bdfac bdfac bcgad daf fa afd efacbd gebaf aceb gfdecb befga dba dcgb ecbdfga abfcd fedc fced adebf fbacde ag bcadeg dgcafb cefdg gcebfda gdecfba dbgfec defca bafgecd fgabe aegbcf badec bcgf bdceaf dbfaec bdacf gcbfea fceda dcfgb dfgbc fdeca gbcdf cfdgb afg eb eab bea be adefgc cdab fbead dcba geafb fedba dbcage egdf bcdgaf cedfga dbgafc dgfbc beadcgf dgacf adfgc bc fg fecdab bdefg bgfde efdacb efadcgb dagf dfabe badecf badefgc bfaec cbeaf cefdab cdfage bacdf dbafc gbdaef caedfg cf gbdefc gfed fcbgd cdgfbe cfbeg bagf ecfdg fbe bedagc ea gceadb gcbad cbdga daecg fdecga edafc adbgce dge egcad ged cgdfa aecgfd bfaec gf dceabg gedfcb edcagfb cdega becgfd dgec dfe ecbgfa cebgaf acbeg dbc gdfb gfdb gafb dgafeb gbaf fadegb cbg cbg cfedgba dgcfabe gfcde dgfbca dcabgf bacegd ecadfb gfeca efa gefdc cegbaf ecfdba cgbda dfebca beagcd dgbca eabd ceabgd feb gaef badgec ecgabf gbedf edgbf bcdeg gfadbe gbd bgd bcgfa fbgad acef afedgb bgdfcea fgedab aebfc egcb acfgbe gebc edacf bf cfb gadcb bcefa cfdba agdfc fabdc fdbg bg caegf egfab gdbeaf agbcf dcbagf fgadeb ef ef ecdgfab deafb efgcdb efg agcfeb dgfabc agbdce aecbfg cdgaf ef fcbeg gcdfb cgbdf acfdg cegfb cafde ba fegdcba cgfbd cfgdb fdegb cg ecdag eb befd dabcfge bfgae cfga ecabf aegbcf fgadc bfg fb bf da dace dga gedfab ce adefgc cdea fce adeb edg cgadf agdec egbcf fbgec acedg af bec eadgb eadbg badefgc fec dafebc cfe aefdb efcba baefc afbcg gbcfa fg decfab cfdbga baecg gcbaed fb bgfcae bcfg bdfgca bgf fgdbce becfadg gcebfa fgacbe fgbdae fcde fbgdca ab afedgc ceafbd fgeb gadbf gcafd bf adfbe cfdage efdcga gfab decbgfa fg ecgad afdbgce dafecbg eagdb bec begdc afcgb ecdg bcfag caedfg agf ecfa becfg af fba ceadgbf bf fb afbegcd fegdac cebad bgafdc fdgabc fegadb dgbcfea egabfd aefcdbg cdegaf gdbec dcfae fcbe gbaed fcaedb acedgf cgafb ebcg aecfg efgbac cbgde faegc befgdca cbdf gfba eagdfcb dcabeg cegafd ebf egafb fbgdac egafb agcefd cbdfe dg bcedf bea eb ecfbag abfcg cegdfb gbeacd cd cabdge cfabged ac cbag dfceab efa adfcbge dfba ebgac cdb bdc dc aecbd cbeag edca gdbea fbedgc bgecd gf bacef fg adecb gfaebc fdcbga aecdb cfade cbeadg bgfea dg fbegc fabge af dcgabe fdabce gbcfd cbefda ecabdf ga ag bdaefc ga gbdefa fedgc cafedb cfdge dbe gabfced cgbedf cbadg bagdc decf fca dfbae eb edagbf ebfc eagdcf aegdc dfabge gcade daceg cdbaf cgeadb bdcae bfgaed ecfg fabgcde gdecbaf bacged dcfgab bgcefa gad gafcbd ab dgefb baf bgaedcf dagbe fgdbeca cbagdfe fcbeda bagfdce dcgafe fegbc dbegca agdcf badeg fb fabcge eafdb edfcbag dcfbe ba deafc acb fbgaecd cfdea gd edfba fgbce fbgec cgd dgcae gcead cd bc afdegb bgdc edbafg bagde eb egcb edfbac cbefa fg bdega gfacbed begacf agb cgfade fcdga cfbdag dcgba geabdf eadc dec fbadec debac edc efacd ge cfgabde fagecdb bfaced gedcf dbag cgbdaf abgcde ebcga dagb bgcefa aec cageb ecdgfb egda agfdb cgfba bgafc eacgdf fgdba abegdfc bcadgf fbegd fcad bfdgae dgc eagbc cfgdb gcedf deaf cfdbg abcgf cabgf feagdcb cdbaefg bfd cgfdeba cafdeb gedfa fegb cagdeb ecdgab bdagefc fg egf beafd efg bgfa dbagc bfgdca bcgad eadbgc cb ebadgf debc abecgf bgac gacb ceadbf bgac bcga cagb efgbda adbgce dfcaeb bgfc abcged cfagdb edcafg cbfgda bgfed gaf bcgf ecbagd agf egcf fabdc adebgf bdcage adgcbe aefgdcb gabfe gc dcfeb gecdfb caeb bacdfe cbdagf gbcae bc edgbaf ecb bcgfe bgedf abcf acdfe fgeda fg cdbegf faegdc eafdg fd cgbfdea bfade fcbg fc cgbf fdae afcbgd bgcedaf gef gdc cgdba cdg gbadc cefdbag gedfca gafdeb befcda ecgdfb edfc gebdaf fecd gcfe gbcaf acfbeg acdgb df bcaefd cfagb df dcfgb gcebd egbf dcegb beafd bag cbgf gba aegcfb cdgf cdgf afegbdc acgbd dbceg acd cfbga bacfe abfecg ebafc debac dbgfec gc acdgfb efbcd cedbafg fb dgfeac cadbf cfbga fgcab db fcegd bgdf abfdec egd gedbfc bcaedf dgcef badg fecadbg fdebag beacg abcd adcegb ecgfba gcbfde dbec cdafge febcda defc beacf fdgabe gbeacd fdeab ebcfad fageb cbegdfa eabcfd adfce cbefda feb dfgb egbcdfa dfegc cfbgda dgcfa gcfead eadfg dagfc cefagb egcabf fcbd fad bafgecd cfegad adbfcge dag ad fcage cgbafe".split(" ")


def count(arr)
  arr.select { |num| (num.length >= 2 && num.length <= 4 )|| num.length == 7 }.count
end

# part 1
puts count(arr)
puts count(arr2)

# - - - - - - - - - -

arr3 = [%w[acedgfb cdfbe gcdfa fbcad dab cefabd cdfgeb eafb cagedb ab], %w[cdfeb fcadb cdfeb cdbaf]]

# small example
arr5 = [
  [%w[be cfbegad cbdgef fgaecd cgeb fdcge agebfd fecdb fabcd edb], %w[fdgacbe cefdb cefbgd gcbe]], [%w[edbfga begcd cbg gc gcadebf fbgde acbgfd abcde gfcbed gfec], %w[fcgedb cgb dgebacf gc]], [%w[fgaebd cg bdaec gdafb agbcfd gdcbef bgcad gfac gcb cdgabef], %w[cg cg fdcagb cbg]], [%w[fbegcd cbd adcefb dageb afcb bc aefdc ecdab fgdeca fcdbega], %w[efabcd cedba gadfec cb]], [%w[aecbfdg fbg gf bafeg dbefa fcge gcbea fcaegb dgceab fcbdga], %w[gecf egdcabf bgf bfgea]], [%w[fgeab ca afcebg bdacfeg cfaedg gcfdb baec bfadeg bafgc acf], %w[gebdcfa ecba ca fadegcb]], [%w[dbcfg fgd bdegcaf fgec aegbdf ecdfab fbedc dacgb gdcebf gf], %w[cefg dcbef fcge gbcadfe]], [%w[bdfegc cbegaf gecbf dfcage bdacg ed bedf ced adcbefg gebcd], %w[ed bcgafe cdgba cbgef]], [%w[egadfb cdbfeg cegd fecab cgb gbdefca cg fgcdab egfdb bfceg], %w[gbdfcae bgc cg cgb]], [%w[gcafb gcf dcaebfg ecagb gf abcdeg gaef cafbge fdbac fegbdc], %w[fgae cfgab fg bagce]]
]

# input
arr6 = [
  [%w[ecfdbg decfba aegd fdcag fagecd gd gcafb efdac cbgeafd dfg], %w[bgacf afdebc fceda cabfg]], [%w[cfdabeg cda bcgad bedfac aefbgd bfgcad dfbga egabc dgfc cd], %w[gdbefac fgabcd dcbefag aedgfb]], [%w[aedbfgc gcaf ebgfca bca edgcfb adbge gebac fbegc ac afdcbe], %w[ceafbg acb egbad gfaebc]], [%w[gaeb cafdbg aedfc ecfgdb ab cdaefgb cgbdae bdecg cba eacdb], %w[gfacdeb gabdec begcd adbce]], [%w[fcbgea fbedg bc cbefg befgcda cfgdab gbc efdgca fecag aceb], %w[faecg cb cb fecbga]], [%w[fdebcg bag gdefa ceadgb fcab ebagfc ab fbegc fcaedbg fbeag], %w[cfegb bga edfga fgbec]], [%w[fg fcagb dfgceba edgacb fagd gfb dcgba agcfdb gecfbd ceafb], %w[facgb fbdcge gf gfabc]], [%w[eabfd dfb gbcfad ebdag fagbce gefabdc edcf aecfb cbdafe df], %w[egbcdfa afdebcg aecfbd acefb]], [%w[fbaec bfegad bga deacbg gb fbdg acgdef deagf fgabe gabecdf], %w[fgdb gefba gcdafe bg]], [%w[bfdea agfbc gbd faecdbg gd efgd cdgeab efadbg faebcd fabdg], %w[cdbgea fged cfabed bgd]], [%w[gfedac cgaef gab ceba ba afcdgb gdefbac fegbd bafeg abcgfe], %w[gcbadf egafb ebafg ab]], [%w[bgda agfcdbe agfde faegb baedgf fcdaeg fdbeac ba bcegf bfa], %w[bcefg eagdf ab bacefd]], [%w[dfgbac fdcaeb cbgeda bfdea dcabf ebadcfg gfbea dbe fecd ed], %w[ebd cdfe bgeaf cdbfea]], [%w[efdba edb eagbcd bacef bd bcfd becfagd begcaf cbaefd aefdg], %w[fdage edbgac cgaebd bed]], [%w[gfecbd gbadf fabged gbf cbdage fagcd feab edgcbaf fb aedbg], %w[agdcf bgfda afdgc afdgb]], [%w[gfaedc caefb badcfge dgfe acdgbf eag eg fgacd gecfa ecbdag], %w[acdbgf cbegad cgdaf eag]], [%w[gfebda fgacd dfbag bg geab gcbdeaf eacbdf cedbgf fbg abfed], %w[aedfb gb eafdb dbafe]], [%w[ebadfc efdbga bega fdgcae dbgaefc edfab fag ag dagbf cfgbd], %w[efacgd dbefag fadebg bgfad]], [%w[bf fbd cgbdaf dcfbae fgbcd gcbadef gafcde bfag cebgd dcafg], %w[afbedc gcdeb fbgadc dbf]], [%w[gfecab fageb cgb acgeb gdfeab ecbafdg gfca aecbd gc edcgbf], %w[afcg cedba aecdb cgeba]], [%w[cdge abfdge cgfeadb bdc gbacd cd cdaebf bgeda cgdaeb acfgb], %w[baecdg fcbag dfeagb gcde]], [%w[efabdgc ecafg dacgbf ecgfd dfe gbfdec ed bedc cfdgb gedafb], %w[egcaf cfgae efcgd de]], [%w[bfagdc dbagef gbedcf afdeb ab edgfb gdebfac fdeca baf eagb], %w[bfa bgadfc adcef ab]], [%w[cfdbae dgefc fcaeg geafdc dfag fd cegbd daefbgc cfd cefbag], %w[efgcd cgdfe cefdg cdf]], [%w[cbged feabc fdgb egf ecfdbg dfgcea gabfdce ebcdag bgefc fg], %w[fbgec bgdf efgcbda cbedg]], [%w[ebcdfa ef cfe cadbfge becfd dgbeac dafe gbdfc cefgba ceabd], %w[bfcaeg gfedcab acbfge fe]], [%w[fbdage bf acdgb cabf gcfed gdcfbea fgbdc fbd fcbadg bgedca], %w[bcadeg bf facbdeg gdabef]], [%w[gfacdbe fga gbdaf gadbc dfeagc fg bcgf eacgbd acdgfb debfa], %w[gdcab agcbd dafbecg gfa]], [%w[gadbcf badfe bae cfaed abfdg adfecbg eb bedgaf ecfagb egdb], %w[bdaef egfdcab eb be]], [%w[dbgecaf gacd dfbac dbaefg dba bfgced cafbdg cbfgd faecb ad], %w[degbcf baegdf gaedbf dfegbc]], [%w[afgcd dabgf gedfba agc bdfgac gdefc bcaf cfeadgb ac ecdbga], %w[gfadbec fgcda edgbac fbagd]], [%w[acbegfd cgeb dagbef gbaed caebdg gc dafgec adcbg cdbfa gdc], %w[bdaeg bdfac bdfac bcgad]], [%w[gfab agfbde fa edbgf cbedfa decga cdagefb degbfc egfda afd], %w[daf fa afd efacbd]], [%w[caegdbf daefg fbgac be fgaeb cbea bge cdfagb dgecfb abecfg], %w[gebaf aceb gfdecb befga]], [%w[efcgda bd efgdcab afbec bgcd fdagc dgabef dab dafbc cfdagb], %w[dba dcgb ecbdfga abfcd]], [%w[abdge fd fda fecd bfcage fecdba fdgbcea afbde acdbfg cfbea], %w[fedc fced adebf fbacde]], [%w[acfdbe egcadb gfbacd acfbd bagefcd bgfa cefgd gac cdagf ag], %w[ag bcadeg dgcafb cefdg]], [%w[eabdfc fcaeg fecad bcfda dcfbge ebda de ced fdacbg dfbcega], %w[gcebfda gdecfba dbgfec defca]], [%w[bfc gdfceb cf eafgbd edcab ebcfa gfeacb acgf adcbgef fabge], %w[bafgecd fgabe aegbcf badec]], [%w[gfbc gaced fg bfcda fgd fcgad dgefbac bcafde dgcfab edgfba], %w[bcgf bdceaf dbfaec bdacf]], [%w[acbdgf dfcgb dcfeg egbd aedfc fcebag ge gef cfegdba fgbdce], %w[gcbfea fceda dcfgb dfgbc]], [%w[agcfd fga fecda gadebf dbgcfe fcbdga dcfgb ga gbac cbfgead], %w[fdeca gbcdf cfdgb afg]], [%w[eba ebdc gbefda dcbegaf fbaced afgec be dcfba ebacf dfcagb], %w[eb eab bea be]], [%w[bfcge bfead edgfacb edcfag abegfd becdf dacb cd cde bfdcea], %w[adefgc cdab fbead dcba]], [%w[bacegd gafcbe begfa bcfad ed gedf ebgfda bdefa ead fegdbac], %w[geafb fedba dbcage egdf]], [%w[df fbgdc fcd bfgce abfd cdfgba cgefad cgbad ecadgb egbfacd], %w[bcdgaf cedfga dbgafc dgfbc]], [%w[dfabge bcfdg egfbca bdaefcg decbfg ebfgd fgdca cb cbde cbg], %w[beadcgf dgacf adfgc bc]], [%w[fgda dafecgb egdbf gef dbgec agebcf gf edgafb fcaedb bafde], %w[fg fecdab bdefg bgfde]], [%w[abfgecd eabgf fcdabe gbdafe acebg dfecgb gf gfb fgad dafeb], %w[efdacb efadcgb dagf dfabe]], [%w[ceafbg dfcabe gcfea gbac fgead gc cbdgef egc aecfgbd cefba], %w[badecf badefgc bfaec cbeaf]], [%w[cadfb caefbd cbfega fdbga cad dc edbc aefbc egbacfd dfgeca], %w[cefdab cdfage bacdf dbafc]], [%w[gfcb cf ecafdg fcbed dfbagce fbgeda gdfbec cef eacbd ebdfg], %w[gbdaef caedfg cf gbdefc]], [%w[gd cgd ebdafgc cfbega gcbfde bcfdg badfc bgaced bcefg gedf], %w[gfed fcbgd cdgfbe cfbeg]], [%w[bfga dabge befacd agbdce fb aegfbd fcged dbegf ebf ebgdcaf], %w[bagf ecfdg fbe bedagc]], [%w[beac ea ade gefcd ecgbad cbagd badgcfe ebfgad acgde gcfdab], %w[ea gceadb gcbad cbdga]], [%w[cadfbg bcgafed cbedf afeg abegdc adf gedca efacd acdgfe fa], %w[daecg fdecga edafc adbgce]], [%w[egd ed egacd cgabfed efcd degfca dagbfc dcagf bgfdea abecg], %w[dge egcad ged cgdfa]], [%w[cgdeaf fcbdeg fgc dgcea cadgbe abdcfeg gf cafbe gadf cfega], %w[aecgfd bfaec gf dceabg]], [%w[caegd cbfgae dafg egd gd ecafg gfabdec cafdge bacde bdfecg], %w[gedfcb edcagfb cdega becgfd]], [%w[badgfe ed dcge fgdceb cebfd cbfedga dabcf efd ecgafb cgbef], %w[dgec dfe ecbgfa cebgaf]], [%w[dgabcef bcd cfeadb degfca bgace gcebd cegfd gbdf bd begfdc], %w[acbeg dbc gdfb gfdb]], [%w[edafgb bagf acedb dbg fcgdabe bcdgfe gb bgead dfaecg faged], %w[gafb dgafeb gbaf fadegb]], [%w[bc abcegf bfcgd gdcbef dcbe gcb cafegbd aegdbf dfagc dbegf], %w[cbg cbg cfedgba dgcfabe]], [%w[be ecgbf cbafg ebg bagedc fbae degfabc fgcdab dgfce cabfeg], %w[gfcde dgfbca dcabgf bacegd]], [%w[af dbacge efa abegfdc gfdce begcfa aecfg afbced fgba ecabg], %w[ecadfb gfeca efa gefdc]], [%w[acbedg edfacbg begd cdfabe dagcb eacdb gfeabc bg gba dfgac], %w[cegbaf ecfdba cgbda dfebca]], [%w[dcbgaef bca abed cbgad gdaec fecbag edgbca geadfc ab cdgfb], %w[beagcd dgbca eabd ceabgd]], [%w[cgabe gfcbe cfegba fdbgc fe fdgebca aedcbg gfea bfdcea fbe], %w[feb gaef badgec ecgabf]], [%w[afecdg dfbc cd dcg aegcb baedgf becgd becfdg eacgbdf ebdgf], %w[gbedf edgbf bcdeg gfadbe]], [%w[gfdba adbefc ebcdfag bcgaf bfdaeg dg adbfe egbacd bgd dfge], %w[gbd bgd bcgfa fbgad]], [%w[dfaegb fe bcgde face afgbdc acgebdf agfcb cgbef fcgbea gfe], %w[acef afedgb bgdfcea fgedab]], [%w[abdcef gdfea cbaef gaefb cagebf agfdbec agdbfc ecgb fbg bg], %w[aebfc egcb acfgbe gebc]], [%w[bcf gbadec bf bgaf fcdea cgbda gebdfc dgefcab fcabd bdagcf], %w[edacf bf cfb gadcb]], [%w[cdafgb bgdf gacefd cdb bd ecfadbg cdafg cdebag bfadc ecafb], %w[bcefa cfdba agdfc fabdc]], [%w[egb dgbf bgdeca febag fbadge ebadf aecfg gb geacfdb fbacde], %w[fdbg bg caegf egfab]], [%w[ac eagfbdc bgacf cbdgae gabdf acdf gdfaeb acg dbgafc gbfce], %w[gdbeaf agbcf dcbagf fgadeb]], [%w[ef eagf bfegcd gbaefd fbe eafbd dagfb abced agcfbd abcefdg], %w[ef ef ecdgfab deafb]], [%w[fdgbc efbgd aedbg dfce bcagdf fe fegcab cdgabef efg cgdfbe], %w[efgcdb efg agcfeb dgfabc]], [%w[fe dbefgac baegc eagfc ebgf acdgf aedbfc bgafce cef bcgdea], %w[agbdce aecbfg cdgaf ef]], [%w[fbgcd bdf dfbega dfcga abfdcg db dabc cfebg feadgc ecgbdaf], %w[fcbeg gcdfb cgbdf acfdg]], [%w[bac cdbeagf abfd bcfea edcfba abdcge edacf gcbfe gcdefa ba], %w[cegfb cafde ba fegdcba]], [%w[gcabfd acdg cg gfdbcae ecbgfa cbg bfegd gdcfb cedafb fadcb], %w[cgfbd cfgdb fdegb cg]], [%w[fcdaegb gdefcb dgfacb dcgea eb dgcbf afcegb bgced bdef bec], %w[ecdag eb befd dabcfge]], [%w[defcb eabcf bca abfeg ac cafbge gfac dbaecg fcbegad bagedf], %w[bfgae cfga ecabf aegbcf]], [%w[gdcfea adgcf cbged bgadfc gbf gfdbc cfegdba bcfa bf dgaefb], %w[fgadc bfg fb bf]], [%w[bdgcaef adg egbca cdabg eadbcg eadc cgdfb efagbd ad ebfagc], %w[da dace dga gedfab]], [%w[cade afgecd fgedc cbaegf efbgd gdfcabe ce fec cadgfb dcgaf], %w[ce adefgc cdea fce]], [%w[efgcba ged gcdbea acgeb decag cdgaf egbcafd bdae fgcbed de], %w[adeb edg cgadf agdec]], [%w[agfce af febgc ebgadc cadeg dafg faegcd bceadf bfaecgd efa], %w[egbcf fbgec acedg af]], [%w[cbgdae debcfa becadfg agecb gcde cfgba ce begda bec fdaebg], %w[bec eadgb eadbg badefgc]], [%w[bagedf ecf ec dbefc cbedfa edca dfbcg edbfa eabgfc aefgcdb], %w[fec dafebc cfe aefdb]], [%w[aef bface dabefg ebfdgac caeg bgfac fcegba fcbed ae cfgbad], %w[efcba baefc afbcg gbcfa]], [%w[dfeca fdagcb feagc adcbef fg gefd cabge fgdbace cegadf cgf], %w[fg decfab cfdbga baecg]], [%w[gbaefd agedbcf cagbe fb cgbeaf baefc bfgc bgeacd efb dcfae], %w[gcbaed fb bgfcae bcfg]], [%w[cegf bcedg bgacdef gbedf fg ebadf ebgdcf dgcfba debgac bfg], %w[bdfgca bgf fgdbce becfadg]], [%w[decafgb acgbd fegdab cefag dfcga gdf fd aecfgb dfecga cefd], %w[gcebfa fgacbe fgbdae fcde]], [%w[faebc acb bdfgca afgedcb ab daeb fcbge afcebd feacd cafedg], %w[fbgdca ab afedgc ceafbd]], [%w[gfeb ebgcdfa dfgca abfdg agebd bf abf bceafd dabgce dbfgae], %w[fgeb gadbf gcafd bf]], [%w[ecbdfg gecdfa efcadgb ebdac deabf fbga bf dbf efagbd dfgae], %w[adfbe cfdage efdcga gfab]], [%w[fg cedbgaf feacbd dafgeb fag gfecba acgde febac cfega fcgb], %w[decbgfa fg ecgad afdbgce]], [%w[cfbgde aegcdf daefbc dgceb fcged gafdecb cbfg bc ceb gebad], %w[dafecbg eagdb bec begdc]], [%w[cdefga fbgcade fgdca cd bafdec adc dbgeaf cafgb efgda cegd], %w[afcgb ecdg bcfag caedfg]], [%w[agfbc af deagfbc fecbg gfa fcegbd cfae bgafec edagbf bcadg], %w[agf ecfa becfg af]], [%w[bdgf afceg adcfeb egbaf afgbde afb fb cegbfda daebg adgbec], %w[fba ceadgbf bf fb]], [%w[efgb eg aecbd ecbdg daecgf dcgfb fbagdc egfadcb gce ecbgdf], %w[afbegcd fegdac cebad bgafdc]], [%w[acgbd eb dbace bdafgc fabdge bceg gecdba edcaf aeb bagcdef], %w[fdgabc fegadb dgbcfea egabfd]], [%w[cadfgb acefdg fcb fbea fb ebdfca ebcdf degcb dfaec cbdefga], %w[aefcdbg cdegaf gdbec dcfae]], [%w[fcdab edc cfeb gdfcae dcaeb ec gdcbaf fdcabe debga efbgadc], %w[fcbe gbaed fcaedb acedgf]], [%w[gb gefca acbfge bdgaecf bfcag bdfca abg aedfgb gebc agfecd], %w[cgafb ebcg aecfg efgbac]], [%w[dgabcef fbdgea fb cdbf cebfg bdaegc dgceb egcdfb bfg acgef], %w[cbgde faegc befgdca cbdf]], [%w[cfaebdg fg fgcead agedb fge ebcdf gebdf dfeagb dbgace fgab], %w[gfba eagdfcb dcabeg cegafd]], [%w[fbe egcba bgefdca bgdafe afdgb fdbgac dgcbfe fbega defa fe], %w[ebf egafb fbgdac egafb]], [%w[gdc acfdeg geabc dbfg dabcfe dbeafcg dg bedcf edcgb efcbdg], %w[agcefd cbdfe dg bcedf]], [%w[bafgcd febdgca abgcf bcgea be edgac aeb cbef afebgd ecgbfa], %w[bea eb ecfbag abfcg]], [%w[cdae cbd gacbe fcbdge cefbag bagcde gcabd bdafg dc fdgebca], %w[cegdfb gbeacd cd cabdge]], [%w[dac dfgae fcdabg agbc dcfbg gfedbc fadcg bfaegcd ca eadbcf], %w[cfabged ac cbag dfceab]], [%w[egbdcf bdeagfc aegcb bafec fdceb edgafc caebfd aef fbad af], %w[efa adfcbge dfba ebgac]], [%w[ebadg fcaeb dc acdg becgfd adecgbf dbc dbeafg dbaec bedagc], %w[cdb bdc dc aecbd]], [%w[cfaegbd agbdce edca badgf edgfbc ebagd ed gde aebfgc ebcag], %w[cbeag edca gdbea fbedgc]], [%w[fgb dfagceb cabgdf gf afge ecbaf deabcf cbdeg bgefc gfceba], %w[bgecd gf bacef fg]], [%w[abd fgcdaeb gfeabc gdfacb fcbea faebcd dcbeg badce ad dafe], %w[adecb gfaebc fdcbga aecdb]], [%w[fcgdeab eabgf feagd dge dg cdaefb acedbg cdfg gcaedf efadc], %w[cfade cbeadg bgfea dg]], [%w[fegcb fcedag badgce fcbdgea afg gafeb af dbgefa degba fadb], %w[fbegc fabge af dcgabe]], [%w[abcdfg dcbfea bagd cegfb bd dbf cgafde edgcbfa fgdca bcdfg], %w[fdabce gbcfd cbefda ecabdf]], [%w[afgbd fbgde dcfageb ag gba gfdcab eadgcb cfag daebfc cdbfa], %w[ga ag bdaefc ga]], [%w[egf ecabfd fg ecdfb cfgb cbegadf dgbfae begcfd agcde cgdfe], %w[gbdefa fedgc cafedb cfdge]], [%w[bafcdge dgbace cgbad cdafe bedcfg be abge cebad dcfabg bed], %w[dbe gabfced cgbedf cbadg]], [%w[becagf fdec debafc afedb adbgc bgdfea dabcf cf cabegfd afc], %w[bagdc decf fca dfbae]], [%w[dcagb gfcade cgdebf fdbeag gdfeabc efdcg ecfb deb egbcd eb], %w[eb edagbf ebfc eagdcf]], [%w[ebcdaf fgdc gbeac dgfae efadbg cd gcefda dgace fbgedac cda], %w[aegdc dfabge gcade daceg]], [%w[fgdcb adceb fcgeabd acedbg af fba aebgdf efac dcabfe adbcf], %w[cdbaf cgeadb bdcae bfgaed]], [%w[fcb fc fcdgb dabfg eabcfdg cbged cefg begdca gcdbfe efdacb], %w[ecfg fabgcde gdecbaf bacged]], [%w[gfdabc ad bdfgea fegbdac gbaecf bfega adg adbe afged egdcf], %w[dcfgab bgcefa gad gafcbd]], [%w[bgdcfea afb gabfcd adbfeg efdba bgdfe dfgbce eafdc bage ab], %w[ab dgefb baf bgaedcf]], [%w[geabd adecfgb cg ebcdfa agfbdc fdcg dabcf dcbag faebcg cbg], %w[dagbe fgdbeca cbagdfe fcbeda]], [%w[bdfa dafbge fgedb bfceg bdg afdebgc bd bdaecg defcga gfdea], %w[bagfdce dcgafe fegbc dbegca]], [%w[aedcgb fb gdbaf dgabe acdfg fabgde fadecgb gbf edfb facegb], %w[agdcf badeg fb fabcge]], [%w[dfbce gafed ba eagb gfdbca aefdb fecdag fagbedc abf egadfb], %w[eafdb edfcbag dcfbe ba]], [%w[afdec fcegda edgabc bgdfc faebdc ba bac dcfebag fadbc fbae], %w[deafc acb fbgaecd cfdea]], [%w[gecd dgf eabdf gd gfdeb fgcadb gcbfae cefbg cedfbg cfeabdg], %w[gd edfba fgbce fbgec]], [%w[adfge bcgfde baecg dcfgaeb bafdge gdeac dagcef dc cdg acdf], %w[cgd dgcae gcead cd]], [%w[efgac agbfedc aecbfd agbfde dcbg fdbag gacdfb bc fgbac fbc], %w[bc afdegb bgdc edbafg]], [%w[be cbfgad acegdb agefd dabgc cebfgad gbce bdega dfbace bed], %w[bagde eb egcb edfbac]], [%w[gf fag afgbe ecbaf geadb eabgdf egdf dagbfc ecagdb cbgdeaf], %w[cbefa fg bdega gfacbed]], [%w[bag defba gcfdae cgbd gb eabgfc gcfabd dfagb gcdfa ecbgfda], %w[begacf agb cgfade fcdga]], [%w[adgfcbe egd fgadeb cgbdae acdgb cgedb deca de efcbg acbdgf], %w[cfbdag dcgba geabdf eadc]], [%w[cagdebf dgebcf edc abecfd egfadb fabed ec gadbc efca dabce], %w[dec fbadec debac edc]], [%w[fcedg dfgbae eg deg egcb fgcebd efacd gfdcb gbfecda gdafbc], %w[efacd ge cfgabde fagecdb]], [%w[dbag aefcbd gbc gcdbf bdcfa bg dfabcg ebadgcf cfgeba dgecf], %w[bfaced gedcf dbag cgbdaf]], [%w[cdgfbea gd bdag gebca bdcgfe dgc fcagbe gabedc afcde cdaeg], %w[abgcde ebcga dagb bgcefa]], [%w[cedgbfa ecabgd cdafeb bafcg cegdbf cae gdae gabce ae edcgb], %w[aec cageb ecdgfb egda]], [%w[eacgbf afbdg gdecaf gafbcde gfc baefc bcge fcabg fdcbea cg], %w[agfdb cgfba bgafc eacgdf]], [%w[fgebd fed bfea cbdeg decfga fe cfdgba defbgac dfgba afdbeg], %w[fgdba abegdfc bcadgf fbegd]], [%w[adbfcg fagdbe bagec dc fbaedcg bdfag gbdca fcgedb dcfa cgd], %w[fcad bfdgae dgc eagbc]], [%w[fgbaecd fgecd cafeg feacbg fdgcb fgaecd acdbge ed adfe dge], %w[cfgdb gcedf deaf cfdbg]], [%w[gedab afdcbeg decabg bfedcg dgefab ef aedf cfgab gbaef efb], %w[abcgf cabgf feagdcb cdbaefg]], [%w[fdb ebdgfc bd adefgcb efgad gbcd dfbge afcgeb fecgb dbeacf], %w[bfd cgfdeba cafdeb gedfa]], [%w[abgde bdefa fagdbe fbadceg dgecab dfe ef edfgca bfdac fbge], %w[fegb cagdeb ecdgab bdagefc]], [%w[febad bacged fge cdbeg cfebdag fgdc gf debcgf bdefg cfebga], %w[fg egf beafd efg]], [%w[agdcbf bdefcga cbgefd dcagb gbedac faedc gfc bfag gfcad gf], %w[bgfa dbagc bfgdca bcgad]], [%w[bdce gafbed gaecf bcefdag gbc dacbeg fcbgad egdab cb cegba], %w[eadbgc cb ebadgf debc]], [%w[ac afgceb eagbf befcagd abcg degcf aefbdg ceagf edbacf acf], %w[abecgf bgac gacb ceadbf]], [%w[abcg fcaeb gfdcabe ab befdc cfage gdbfea gecdaf efcgba bfa], %w[bgac bcga cagb efgbda]], [%w[fbdeg gb fcdeb dfecbg eafgdbc edgfa eagbdc baedfc cbfg beg], %w[adbgce dfcaeb bgfc abcged]], [%w[afg afdbec cbdgaf afcgedb bedgf cdagef ga afcdb gbca gfbda], %w[cfagdb edcafg cbfgda bgfed]], [%w[edgafcb fdeab dgabcf cbgf gdfeac dgfab gdeacb acgbd gfa gf], %w[gaf bcgf ecbagd agf]], [%w[dcbfa gfbace ebfca efcg bgfeadc abgce gbafde ef beadcg fbe], %w[egcf fabdc adebgf bdcage]], [%w[gc cfdbe fgcebd bcgef ceg fdagceb ecadbg fgdc fageb bedcfa], %w[adgcbe aefgdcb gabfe gc]], [%w[fgead bcdafg ba bcae edafb bcefad dbcfe cafbgde gbcdef adb], %w[dcfeb gecdfb caeb bacdfe]], [%w[gfeab abc bc ecbf gdebaf gebac gdcea gecdfba acdfbg fbgcae], %w[cbdagf gbcae bc edgbaf]], [%w[aecgf acbf cgadef fecbg bc ebc dcegba befdg aebgcf afdebgc], %w[ecb bcgfe bgedf abcf]], [%w[fg facg efcagd eadfg cebfda feg daegb bdfcge afced cfeadgb], %w[acdfe fgeda fg cdbegf]], [%w[gefda fed edfbgc fgeab cfad cdeag fd cebgad dcefabg fagdce], %w[faegdc eafdg fd cgbfdea]], [%w[ebfad cf befca gabedc fac cabeg dcaefg abfecg fbacged gcbf], %w[bfade fcbg fc cgbf]], [%w[aegbf cbdfega adbfg ef cebdgf dfcbga gebca fadgbe afde gfe], %w[fdae afcbgd bgcedaf gef]], [%w[cdgab cg edgbac gbedfa gebcdaf dcebfg gcd degba aceg dacfb], %w[gdc cgdba cdg gbadc]], [%w[daebfg fcebgad db gacbf feacdg gafdb eafdbc dgaef dfb bedg], %w[cefdbag gedfca gafdeb befcda]], [%w[ecfd fcdgba cebgf fge bgafed febdcg cbfegad cabeg fe gfdbc], %w[ecgdfb edfc gebdaf fecd]], [%w[fac gbeaf bcdga adgbcef febcda cfgba gefbda bagcfe cfge fc], %w[gcfe gbcaf acfbeg acdgb]], [%w[afegdcb fdgba bfgacd fdcg fd cbfga adf ebcagf dcfabe gbdae], %w[df bcaefd cfagb df]], [%w[cdbgef bgef ge ged badec agfdcb adgecf cgdeb cbgdf fdbceag], %w[dcfgb gcebd egbf dcegb]], [%w[dfbea gb cfgea bag fgbc debcga acdbgef afcgbe gfeba cfdaeg], %w[beafd bag cbgf gba]], [%w[fdgcab cd ebdaf baecdgf cda bcgaf cfebga acebgd cbdaf cfgd], %w[aegcfb cdgf cdgf afegbdc]], [%w[fcbga cbeagf dcabg da dfabcg bdaf begcd dca fdagce bcgfdae], %w[acgbd dbceg acd cfbga]], [%w[degacbf cf dcgfba adegbf efgab gfce acfeb dbeca caf gcebaf], %w[bacfe abfecg ebafc debac]], [%w[bcaefd gbce dcegfb gcbadf dgfaecb fbdce dgcfe cg agfed fcg], %w[dbgfec gc acdgfb efbcd]], [%w[cdfag dgebacf bdfagc fba acdgef fcdab bfdg baedc gbfaec fb], %w[cedbafg fb dgfeac cadbf]], [%w[bcdgf eafcbgd bd adfb dcabeg gebfac gcfba gfdacb fdgce bgd], %w[cfbga fgcab db fcegd]], [%w[cdgafe deg bedfc dfgb cgdbe dg dcefba efdgbc cagbefd cegab], %w[bgdf abfdec egd gedbfc]], [%w[bg febdca edgcb cdeab gbc edgbca gdab beagcf cdegf debacfg], %w[bcaedf dgcef badg fecadbg]], [%w[dbca cgaedb gcfbe cea fadbeg gabce ca edcafg degab abfedgc], %w[fdebag beacg abcd adcegb]], [%w[gcdfe adbfgec cbafge dgbaf ebf gfbced eb adcgfe becd fgebd], %w[ecgfba gcbfde dbec cdafge]], [%w[dbgeafc dacbg badfge abfce ed eda dcfe decba dcfeab gfbeca], %w[febcda defc beacf fdgabe]], [%w[efcd bfcadge fcdba egabf bfdcag dcefba deagbc fabed ed edb], %w[gbeacd fdeab ebcfad fageb]], [%w[dcgf fegdab bcaeg dcegaf dga gd dcfbea fcdea aedcg bdefgca], %w[cbegdfa eabcfd adfce cbefda]], [%w[bf edfbgc cegbf bcadefg ebf acbfde gcedf feadgc gbcae gfbd], %w[feb dfgb egbcdfa dfegc]], [%w[efgba eacd efadcg dcgefb gacdf dbcfgae efd bgcdaf edfga ed], %w[cfbgda dgcfa gcfead eadfg]], [%w[afgdc fbg cdgaef fagbdc bgcefa cdbf bgdaf bdaeg fb dgabcfe], %w[dagfc cefagb egcabf fcbd]], [%w[cadgfe acbed cfabgde fdbcge cfga fad fdeabg fa dcaef dcfge], %w[fad bafgecd cfegad adbfcge]], [%w[agdefc cfad bdgecfa gadfe aefgc ad ceadgb gbafce bfedg agd], %w[dag ad fcage cgbafe]]
]

# first entry of input
arr7 = [%w[ecfdbg decfba aegd fdcag fagecd gd gcafb efdac cbgeafd dfg], %w[bgacf afdebc fceda cabfg]]

def decode(arr)
  code = Array.new(10, "")
  arr.each do |num|
    case num.length
    when 2
      code[1] = num
    when 3
      code[7] = num
    when 4
      code[4] = num
    when 7
      code[8] = num
    end
  end

  # 6 does not have 1
  code[6] = arr.select { |num| num.length == 6 }.select { |num| !num.include?(code[1][0]) || !num.include?(code[1][1]) }.first

  # 3 has 1
  code[3] = arr.select { |num| num.length == 5 }.select { |num| num.include?(code[1][0]) && num.include?(code[1][1]) }.first

  # 9 has 4
  code[9] = arr.select { |num| num.length == 6 }.select { |num| num.include?(code[4][0]) && num.include?(code[4][1]) && num.include?(code[4][2]) && num.include?(code[4][3]) }.first

  # 0 = last 6 seg
  code[0] = arr.select { |num| num.length == 6 }.select { |num| num != code[6] && num !=code[9] }.first

  # 5 or 2 match with 4
  fives = arr.select { |num| num.length == 5 && num != code[3] }
  # 2 + 4 = 7 segs
  code[2] = fives.select { |num| (num + code[4]).split("").uniq.count == 7 }.first
  # last remaining value
  code[5] = fives.select { |num| num != code[2] }.first

  code
end

def translate(arrs)
  codes = decode(arrs[0]).map { |w| w.chars.sort.join }
  arrs[1].map { |scramble| codes.index(scramble.chars.sort.join) }.join("").to_i
end

def batch_translate(arrss)
  arrss.map { |arrs| translate(arrs) }.inject { |a, v| a + v }
end

# print decode(arr3)

# print translate(arr3)
#
# part 2
# puts batch_translate(arr5)
puts batch_translate(arr6)

# print translate(arr7)